{% extends "base.html" %}
{% block title %}Cart | RetailCurbside{% endblock %}
{% block content %}
<h1 class="text-2xl font-bold mb-4">Your Cart</h1>
{% if cart_items %}
    <div class="space-y-4">
        {% for item in cart_items %}
            <div class="bg-white p-4 rounded shadow flex justify-between items-center">
                <div>
                    <p class="font-semibold">{{ item.product.name }}</p>
                    <p class="text-sm text-slate-500">${{ item.product.price }} - Qty {{ item.quantity }}</p>
                </div>
                <div class="flex items-center gap-4">
                    <p class="font-semibold text-emerald-700">${{ item.line_total }}</p>
                    <form method="post" action="{% url 'cart_remove' item.product.id %}">
                        {% csrf_token %}
                        <button class="text-sm text-red-500">Remove</button>
                    </form>
                </div>
            </div>
        {% endfor %}
    </div>
    <div class="mt-6 flex justify-between items-center">
        <p class="text-xl font-semibold">Total: ${{ cart_total }}</p>
        <a href="{% url 'checkout' %}" class="bg-emerald-600 text-white px-5 py-2 rounded">Checkout</a>
    </div>
{% else %}
    <p>Your cart is empty.</p>
{% endif %}
{% endblock %}
